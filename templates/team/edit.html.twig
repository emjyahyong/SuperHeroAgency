{# templates/team/edit.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Modifier l'équipe {{ team.name }}{% endblock %}

{% block body %}
    <h1>Modifier l'équipe : {{ team.name }}</h1>

    {# Affichage des erreurs en cas de non-respect des contraintes #}
    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}

    {{ form_start(form) }}
        <div class="form-group">
            {{ form_label(form.name, 'Nom de l\'équipe') }}
            {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.name) }}
        </div>

        <div class="form-group">
            {{ form_label(form.active, 'Équipe active') }}
            {{ form_widget(form.active, {'attr': {'class': 'form-check-input'}}) }}
            {{ form_errors(form.active) }}
        </div>

        <div class="form-group">
            {{ form_label(form.leader, 'Sélectionner le leader') }}
            {{ form_widget(form.leader, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.leader) }}
        </div>

        <div class="form-group">
            {{ form_label(form.members, 'Sélectionner les membres') }}
            {{ form_widget(form.members, {'attr': {'class': 'form-control', 'multiple': true}}) }}
            {{ form_errors(form.members) }}
        </div>

        <button type="submit" class="btn btn-success">Enregistrer les modifications</button>
        <a href="{{ path('app_team_index') }}" class="btn btn-secondary">Retour à la liste</a>
    {{ form_end(form) }}
{% endblock %}
